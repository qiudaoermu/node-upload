(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-money-pay"],{"0265":function(e,t,a){"use strict";a.r(t);var n=a("20d5"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},"05ce":function(e,t,a){"use strict";var n=a("9686"),o=a.n(n);o.a},"0e57":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.u-line-1[data-v-433e91ac]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.u-line-2[data-v-433e91ac]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:2;-webkit-box-orient:vertical!important}.u-line-3[data-v-433e91ac]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:3;-webkit-box-orient:vertical!important}.u-line-4[data-v-433e91ac]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:4;-webkit-box-orient:vertical!important}.u-line-5[data-v-433e91ac]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:5;-webkit-box-orient:vertical!important}.u-border[data-v-433e91ac]{border-width:.5px!important;border-color:#dadbde!important;border-style:solid}.u-border-top[data-v-433e91ac]{border-top-width:.5px!important;border-color:#dadbde!important;border-top-style:solid}.u-border-left[data-v-433e91ac]{border-left-width:.5px!important;border-color:#dadbde!important;border-left-style:solid}.u-border-right[data-v-433e91ac]{border-right-width:.5px!important;border-color:#dadbde!important;border-right-style:solid}.u-border-bottom[data-v-433e91ac]{border-bottom-width:.5px!important;border-color:#dadbde!important;border-bottom-style:solid}.u-border-top-bottom[data-v-433e91ac]{border-top-width:.5px!important;border-bottom-width:.5px!important;border-color:#dadbde!important;border-top-style:solid;border-bottom-style:solid}.u-reset-button[data-v-433e91ac]{padding:0;background-color:initial;font-size:inherit;line-height:inherit;color:inherit}.u-reset-button[data-v-433e91ac]::after{border:none}.u-hover-class[data-v-433e91ac]{opacity:.7}.u-flex[data-v-433e91ac],\n.u-flex-row[data-v-433e91ac],\n.u-flex-x[data-v-433e91ac]{display:flex;flex-direction:row}.u-flex-y[data-v-433e91ac],\n.u-flex-column[data-v-433e91ac]{display:flex;flex-direction:"column"}.u-flex-x-center[data-v-433e91ac]{display:flex;flex-direction:row;justify-content:center}.u-flex-xy-center[data-v-433e91ac]{display:flex;flex-direction:row;justify-content:center;align-items:center}.u-flex-y-center[data-v-433e91ac]{display:flex;flex-direction:row;align-items:center}.u-flex-x-left[data-v-433e91ac]{display:flex;flex-direction:row}.u-flex-x-reverse[data-v-433e91ac],\n.u-flex-row-reverse[data-v-433e91ac]{flex-direction:row-reverse}.u-flex-y-reverse[data-v-433e91ac],\n.u-flex-column-reverse[data-v-433e91ac]{flex-direction:column-reverse}.u-flex.u-flex-reverse[data-v-433e91ac],\n.u-flex-row.u-flex-reverse[data-v-433e91ac],\n.u-flex-x.u-flex-reverse[data-v-433e91ac]{flex-direction:row-reverse}.u-flex-column.u-flex-reverse[data-v-433e91ac],\n.u-flex-y.u-flex-reverse[data-v-433e91ac]{flex-direction:column-reverse}.u-flex-fill[data-v-433e91ac]{flex:1 1 auto}.u-margin-top-auto[data-v-433e91ac],\n.u-m-t-auto[data-v-433e91ac]{margin-top:auto!important}.u-margin-right-auto[data-v-433e91ac],\n.u-m-r-auto[data-v-433e91ac]{margin-right:auto!important}.u-margin-bottom-auto[data-v-433e91ac],\n.u-m-b-auto[data-v-433e91ac]{margin-bottom:auto!important}.u-margin-left-auto[data-v-433e91ac],\n.u-m-l-auto[data-v-433e91ac]{margin-left:auto!important}.u-margin-center-auto[data-v-433e91ac],\n.u-m-c-auto[data-v-433e91ac]{margin-left:auto!important;margin-right:auto!important}.u-margin-middle-auto[data-v-433e91ac],\n.u-m-m-auto[data-v-433e91ac]{margin-top:auto!important;margin-bottom:auto!important}.u-flex-wrap[data-v-433e91ac]{flex-wrap:wrap}.u-flex-wrap-reverse[data-v-433e91ac]{flex-wrap:wrap-reverse}.u-flex-start[data-v-433e91ac]{justify-content:flex-start}.u-flex-center[data-v-433e91ac]{justify-content:center}.u-flex-end[data-v-433e91ac]{justify-content:flex-end}.u-flex-between[data-v-433e91ac]{justify-content:space-between}.u-flex-around[data-v-433e91ac]{justify-content:space-around}.u-flex-items-start[data-v-433e91ac]{align-items:flex-start}.u-flex-items-center[data-v-433e91ac]{align-items:center}.u-flex-items-end[data-v-433e91ac]{align-items:flex-end}.u-flex-items-baseline[data-v-433e91ac]{align-items:baseline}.u-flex-items-stretch[data-v-433e91ac]{align-items:stretch}.u-flex-self-start[data-v-433e91ac]{align-self:flex-start}.u-flex-self-center[data-v-433e91ac]{align-self:center}.u-flex-self-end[data-v-433e91ac]{align-self:flex-end}.u-flex-self-baseline[data-v-433e91ac]{align-self:baseline}.u-flex-self-stretch[data-v-433e91ac]{align-self:stretch}.u-flex-content-start[data-v-433e91ac]{align-content:flex-start}.u-flex-content-center[data-v-433e91ac]{align-content:center}.u-flex-content-end[data-v-433e91ac]{align-content:flex-end}.u-flex-content-between[data-v-433e91ac]{align-content:space-between}.u-flex-content-around[data-v-433e91ac]{align-content:space-around}.u-flex-middle[data-v-433e91ac]{justify-content:center;align-items:center;align-self:center;align-content:center}.u-flex-grow[data-v-433e91ac]{flex-grow:1}.u-flex-shrink[data-v-433e91ac]{flex-shrink:1}.app[data-v-433e91ac]{width:100%}.price-box[data-v-433e91ac]{background-color:#fff;height:%?265?%;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:%?28?%;color:#909399}.price-box .price[data-v-433e91ac]{font-size:%?50?%;color:#303133;margin-top:%?12?%}.price-box .price[data-v-433e91ac]:before{content:"￥";font-size:%?40?%}.radio-image[data-v-433e91ac]{width:30px;height:30px}.pay-type-list[data-v-433e91ac]{margin-top:%?20?%;background-color:#fff;padding-left:%?60?%}.pay-type-list .type-item[data-v-433e91ac]{height:%?120?%;padding:%?20?% 0;display:flex;justify-content:space-between;align-items:center;padding-right:%?60?%;font-size:%?30?%;position:relative}.pay-type-list .icon[data-v-433e91ac]{width:%?100?%;font-size:%?52?%}.pay-type-list .icon-erjiye-yucunkuan[data-v-433e91ac]{color:#fe8e2e}.pay-type-list .icon-weixinzhifu[data-v-433e91ac]{color:#36cb59}.pay-type-list .icon-alipay[data-v-433e91ac]{color:#01aaef}.pay-type-list .tit[data-v-433e91ac]{font-size:%?32?%;color:#303133;margin-bottom:%?4?%}.pay-type-list .con[data-v-433e91ac]{flex:1;display:flex;flex-direction:column;font-size:%?24?%;color:#909399}.mix-btn[data-v-433e91ac]{display:flex;align-items:center;justify-content:center;width:%?630?%;height:%?90?%;margin:%?80?% auto %?30?%;font-size:%?32?%;color:#fff;background-color:#2e73dd;border-radius:%?45?%\n  /* box-shadow: 1px 2px 5px rgba(219, 63, 96, 0.4); */}',""]),e.exports=t},"13ea":function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("4a77")),i="wx137ce4241ba5cca8",r={appId:i,wxpay:function(e,t){(0,o.default)("order.wxPay",{orderNo:e.orderNo,money:1}).then((function(e){t&&t(e.data)}))},wxH5pay:function(e,t){(0,o.default)("order.wxH5Pay",{orderNo:e.orderNo,openid:uni.getStorageSync("wxOpenId")}).then((function(e){console.log(e),t(e)}))}};t.default=r},"20d5":function(e,t,a){"use strict";var n=a("4ea4");a("7db0"),a("d81d"),a("13d5"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var o=n(a("1da1")),i=n(a("13ea")),r=a("efc5"),d=a("654a"),c={data:function(){return{payType:1,content:"请确认支付是否已经完成",orderData:{},cashAmount:0,formContent:"",showWxModal:!1,orderStatus:d.orderStatus.ORDER_STATUS_PENDPAY}},computed:{},onLoad:function(e){JSON.parse(decodeURIComponent(e.orderData));this.orderData=JSON.parse(decodeURIComponent(e.orderData)),console.log(this.orderData,"****************************************************************"),this.isWeixin=(0,r.isWeixin)(),this.cashAmount=this.orderData.map((function(e){return e.cashAmount})).reduce((function(e,t){return e+t}),0),this.orderNo=this.orderData.map((function(e){return e.orderNo}))},onShow:function(){this.getOrder()},methods:{getOrder:function(){var e=this,t=uni.getStorageSync("userId"),a={userId:t,orderNo:this.orderNo};this.$http("order.detail",a).then((function(t){e.orderStatus=t.data[0].orderStatus}))},changePayType:function(e){this.payType=e},confirm:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var t,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.orderStatus==d.orderStatus.ORDER_STATUS_PENDPAY?(uni.setStorageSync("payType",this.payType),1===this.payType?this.wxpay():this.alipay()):(t=d.orderStatusModes.find((function(e){return e.status==n.orderStatus})),a="订单".concat(t.text),this.$api.msg(a));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),alipay:function(){var e={orderNo:this.orderNo};uni.showLoading({title:"支付中..",mask:!0}),console.log("pay params ============",e);this.$http("order.aliPay",e).then((function(e){console.log("返回请求结果===",e),uni.hideLoading();var t=e.data,a=document.createElement("view");a.innerHTML=t,document.body.appendChild(a),document.forms[document.forms.length-1].submit()}))},onBridgeReady:function(e){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:e.signType,paySign:e.paySign},(function(e){"get_brand_wcpay_request:ok"==e.err_msg&&uni.navigateTo({url:"/pages/money/paySuccess?orderNo=".concat(this.orderNo)})}))},wxpay:function(){var e=this;window.ReactNativeWebView?i.default.wxpay({orderNo:this.orderNo},(function(e){window.location.href=e.mweb_url})):i.default.wxH5pay({orderNo:this.orderNo},(function(t){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e.onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e.onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",e.onBridgeReady)):(console.log("220data",t.data),e.onBridgeReady(t.data))}))},wxConfirm:function(){}}};t.default=c},"4f24":function(e,t,a){e.exports=a.p+"static/img/radio-unselected.41a2363d.png"},"654a":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.orderStatusModes=t.aftermarketOrderStatus=t.orderStatus=t.deliveryTypeModes=void 0;var n={DELIVERY_TYPE_DIRECT:30,DELIVERY_TYPE_EXPRESS:10,DELIVERY_TYPE_MENTION:20};t.deliveryTypeModes=n;var o={ORDER_STATUS_CANCEL:0,ORDER_STATUS_PENDPAY:1,ORDER_STATUS_PAY:10,ORDER_STATUS_UNEXPRESS:20,ORDER_STATUS_EXPRESS:30,ORDER_STATUS_COMPELETE:40,ORDER_STATUS_REFUNDS:50,ORDER_STATUS_CLOSED:60};t.orderStatus=o;var i={aftermarketOrder_ING:0,aftermarketOrder_COMPELETE:1};t.aftermarketOrderStatus=i;var r=[{status:0,text:"已取消"},{status:1,text:"待支付"},{status:10,text:"已支付"},{status:20,text:"待发货"},{status:30,text:"待收货"},{status:40,text:"已完成"},{status:50,text:"部分退货"},{status:60,text:"已关闭"}];t.orderStatusModes=r;var d={refundStatus:[{status:1,text:"退款申请"},{status:2,text:"等待退货"},{status:3,text:"等待确认收货"},{status:4,text:"等待确认退款"},{status:5,text:"已退款"},{status:-1,text:"退款已拒绝"},{status:-2,text:"退款已关闭"},{status:-3,text:"退款不通过"}],evaluateStatus:[{status:0,text:"未评价"},{status:1,text:"已评价"},{status:2,text:"已追评"}],orderNavList:[{state:void 0,text:"全部"},{state:0,text:"待付款"},{state:1,text:"待发货"},{state:2,text:"待收货"},{state:3,text:"评价"}]};t.default=d},"829c":function(e,t,a){e.exports=a.p+"static/img/radio-selected.472ed8d7.png"},"946c":function(e,t,a){"use strict";a.r(t);var n=a("9cd8"),o=a("0265");for(var i in o)"default"!==i&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("05ce");var r,d=a("f0c5"),c=Object(d["a"])(o["default"],n["b"],n["c"],!1,null,"433e91ac",null,!1,n["a"],r);t["default"]=c.exports},9686:function(e,t,a){var n=a("0e57");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("4f06").default;o("48b7ba27",n,!0,{sourceMap:!1,shadowMode:!1})},"9cd8":function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var n={uModal:a("d3b8").default},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"app"},[n("v-uni-view",{staticClass:"price-box"},[n("v-uni-text",[e._v("支付金额")]),n("v-uni-text",{staticClass:"price"},[e._v(e._s(e.cashAmount))])],1),n("v-uni-view",{staticClass:"pay-type-list"},[n("v-uni-view",{staticClass:"type-item b-b",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changePayType(1)}}},[n("v-uni-text",{staticClass:"icon yticon icon-weixinzhifu"}),n("v-uni-view",{staticClass:"con"},[n("v-uni-text",{staticClass:"tit"},[e._v("微信支付")]),n("v-uni-text",[e._v("推荐使用微信支付")])],1),1==e.payType?n("v-uni-image",{staticClass:"radio-image",attrs:{src:a("829c"),mode:"scaleToFill"}}):e._e(),1!=e.payType?n("v-uni-image",{staticClass:"radio-image",attrs:{src:a("4f24"),mode:"scaleToFill"}}):e._e()],1),e.isWeixin?e._e():n("v-uni-view",{staticClass:"type-item b-b",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changePayType(2)}}},[n("v-uni-text",{staticClass:"icon yticon icon-alipay"}),n("v-uni-view",{staticClass:"con"},[n("v-uni-text",{staticClass:"tit"},[e._v("支付宝支付")])],1),2==e.payType?n("v-uni-image",{staticClass:"radio-image",attrs:{src:a("829c"),mode:"scaleToFill"}}):e._e(),2!=e.payType?n("v-uni-image",{staticClass:"radio-image",attrs:{src:a("4f24"),mode:"scaleToFill"}}):e._e()],1)],1),n("u-modal",{attrs:{title:e.content,show:e.showWxModal,showCancelButton:!0,cancelText:"重新支付",confirmText:"完成"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.wxConfirm.apply(void 0,arguments)},cancel:function(t){arguments[0]=t=e.$handleEvent(t),e.wxpay.apply(void 0,arguments)}}}),n("v-uni-text",{staticClass:"mix-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v("确认支付")])],1)},i=[]}}]);