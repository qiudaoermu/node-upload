(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-addressManage"],{1915:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.u-line-1[data-v-0e53929d]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.u-line-2[data-v-0e53929d]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:2;-webkit-box-orient:vertical!important}.u-line-3[data-v-0e53929d]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:3;-webkit-box-orient:vertical!important}.u-line-4[data-v-0e53929d]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:4;-webkit-box-orient:vertical!important}.u-line-5[data-v-0e53929d]{display:-webkit-box!important;overflow:hidden;text-overflow:ellipsis;word-break:break-all;-webkit-line-clamp:5;-webkit-box-orient:vertical!important}.u-border[data-v-0e53929d]{border-width:.5px!important;border-color:#dadbde!important;border-style:solid}.u-border-top[data-v-0e53929d]{border-top-width:.5px!important;border-color:#dadbde!important;border-top-style:solid}.u-border-left[data-v-0e53929d]{border-left-width:.5px!important;border-color:#dadbde!important;border-left-style:solid}.u-border-right[data-v-0e53929d]{border-right-width:.5px!important;border-color:#dadbde!important;border-right-style:solid}.u-border-bottom[data-v-0e53929d]{border-bottom-width:.5px!important;border-color:#dadbde!important;border-bottom-style:solid}.u-border-top-bottom[data-v-0e53929d]{border-top-width:.5px!important;border-bottom-width:.5px!important;border-color:#dadbde!important;border-top-style:solid;border-bottom-style:solid}.u-reset-button[data-v-0e53929d]{padding:0;background-color:initial;font-size:inherit;line-height:inherit;color:inherit}.u-reset-button[data-v-0e53929d]::after{border:none}.u-hover-class[data-v-0e53929d]{opacity:.7}.u-flex[data-v-0e53929d],\n.u-flex-row[data-v-0e53929d],\n.u-flex-x[data-v-0e53929d]{display:flex;flex-direction:row}.u-flex-y[data-v-0e53929d],\n.u-flex-column[data-v-0e53929d]{display:flex;flex-direction:"column"}.u-flex-x-center[data-v-0e53929d]{display:flex;flex-direction:row;justify-content:center}.u-flex-xy-center[data-v-0e53929d]{display:flex;flex-direction:row;justify-content:center;align-items:center}.u-flex-y-center[data-v-0e53929d]{display:flex;flex-direction:row;align-items:center}.u-flex-x-left[data-v-0e53929d]{display:flex;flex-direction:row}.u-flex-x-reverse[data-v-0e53929d],\n.u-flex-row-reverse[data-v-0e53929d]{flex-direction:row-reverse}.u-flex-y-reverse[data-v-0e53929d],\n.u-flex-column-reverse[data-v-0e53929d]{flex-direction:column-reverse}.u-flex.u-flex-reverse[data-v-0e53929d],\n.u-flex-row.u-flex-reverse[data-v-0e53929d],\n.u-flex-x.u-flex-reverse[data-v-0e53929d]{flex-direction:row-reverse}.u-flex-column.u-flex-reverse[data-v-0e53929d],\n.u-flex-y.u-flex-reverse[data-v-0e53929d]{flex-direction:column-reverse}.u-flex-fill[data-v-0e53929d]{flex:1 1 auto}.u-margin-top-auto[data-v-0e53929d],\n.u-m-t-auto[data-v-0e53929d]{margin-top:auto!important}.u-margin-right-auto[data-v-0e53929d],\n.u-m-r-auto[data-v-0e53929d]{margin-right:auto!important}.u-margin-bottom-auto[data-v-0e53929d],\n.u-m-b-auto[data-v-0e53929d]{margin-bottom:auto!important}.u-margin-left-auto[data-v-0e53929d],\n.u-m-l-auto[data-v-0e53929d]{margin-left:auto!important}.u-margin-center-auto[data-v-0e53929d],\n.u-m-c-auto[data-v-0e53929d]{margin-left:auto!important;margin-right:auto!important}.u-margin-middle-auto[data-v-0e53929d],\n.u-m-m-auto[data-v-0e53929d]{margin-top:auto!important;margin-bottom:auto!important}.u-flex-wrap[data-v-0e53929d]{flex-wrap:wrap}.u-flex-wrap-reverse[data-v-0e53929d]{flex-wrap:wrap-reverse}.u-flex-start[data-v-0e53929d]{justify-content:flex-start}.u-flex-center[data-v-0e53929d]{justify-content:center}.u-flex-end[data-v-0e53929d]{justify-content:flex-end}.u-flex-between[data-v-0e53929d]{justify-content:space-between}.u-flex-around[data-v-0e53929d]{justify-content:space-around}.u-flex-items-start[data-v-0e53929d]{align-items:flex-start}.u-flex-items-center[data-v-0e53929d]{align-items:center}.u-flex-items-end[data-v-0e53929d]{align-items:flex-end}.u-flex-items-baseline[data-v-0e53929d]{align-items:baseline}.u-flex-items-stretch[data-v-0e53929d]{align-items:stretch}.u-flex-self-start[data-v-0e53929d]{align-self:flex-start}.u-flex-self-center[data-v-0e53929d]{align-self:center}.u-flex-self-end[data-v-0e53929d]{align-self:flex-end}.u-flex-self-baseline[data-v-0e53929d]{align-self:baseline}.u-flex-self-stretch[data-v-0e53929d]{align-self:stretch}.u-flex-content-start[data-v-0e53929d]{align-content:flex-start}.u-flex-content-center[data-v-0e53929d]{align-content:center}.u-flex-content-end[data-v-0e53929d]{align-content:flex-end}.u-flex-content-between[data-v-0e53929d]{align-content:space-between}.u-flex-content-around[data-v-0e53929d]{align-content:space-around}.u-flex-middle[data-v-0e53929d]{justify-content:center;align-items:center;align-self:center;align-content:center}.u-flex-grow[data-v-0e53929d]{flex-grow:1}.u-flex-shrink[data-v-0e53929d]{flex-shrink:1}uni-page-body[data-v-0e53929d]{background:#f2f2f2;padding-top:%?16?%}.popup[data-v-0e53929d]{height:-webkit-fit-content;height:fit-content;width:100%;background:#fff}.popup .picker-btn[data-v-0e53929d]{display:flex;height:%?100?%;width:100%;line-height:%?100?%;background-color:#fff;font-size:%?30?%;z-index:1;border-bottom:%?1?% solid #eee}.popup .picker-btn .left[data-v-0e53929d]{flex:1;color:#333;padding-left:%?40?%;box-sizing:border-box}.popup .picker-btn .right[data-v-0e53929d]{flex:1;color:#333;text-align:right;padding-right:%?40?%;box-sizing:border-box}.popup uni-picker-view[data-v-0e53929d]{width:100%;height:%?400?%;display:relative}.popup .item[data-v-0e53929d]{line-height:%?100?%;text-align:center}.row[data-v-0e53929d]{display:flex;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff;margin:0 %?20?%}.row[data-v-0e53929d]:nth-child(1){border-top-left-radius:%?8?%;border-top-right-radius:%?8?%}.row[data-v-0e53929d]:nth-child(4){border-bottom-left-radius:%?8?%;border-bottom-right-radius:%?8?%}.row[data-v-0e53929d]:nth-child(5){border-radius:%?8?%}.row .tit[data-v-0e53929d]{flex-shrink:0;width:%?150?%;font-size:%?30?%;color:#666}.row .input[data-v-0e53929d]{flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-0e53929d]{font-size:%?36?%;color:#909399}.default-row[data-v-0e53929d]{margin-top:%?16?%}.default-row .tit[data-v-0e53929d]{flex:1}.default-row uni-switch[data-v-0e53929d]{-webkit-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9);color:#4399fc!important}.btn-content[data-v-0e53929d]{position:fixed;background-color:#fff;left:%?0?%;right:%?0?%;bottom:env(safe-area-inset-bottom);height:%?100?%;display:flex;justify-content:space-around}.del-btn[data-v-0e53929d]{z-index:95;display:flex;align-items:center;justify-content:center;width:%?690?%;height:%?80?%;font-size:%?32?%;color:#999;background-color:#eee;border-radius:%?40?%;margin:%?6?% %?10?%}.add-btn[data-v-0e53929d]{z-index:95;display:flex;align-items:center;justify-content:center;width:%?690?%;height:%?80?%;font-size:%?32?%;color:#fff;background:linear-gradient(90deg,#2e73dd,#1a58b7);border-radius:%?40?%;margin:%?6?% %?10?%}body.?%PAGE?%[data-v-0e53929d]{background:#f2f2f2}',""]),e.exports=t},3295:function(e,t,a){"use strict";a.r(t);var i=a("9cfb"),r=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},7790:function(e,t,a){"use strict";a.r(t);var i=a("ad6e"),r=a("3295");for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);a("e1ca");var d,o=a("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"0e53929d",null,!1,i["a"],d);t["default"]=s.exports},"9cfb":function(e,t,a){"use strict";var i=a("4ea4");a("4160"),a("d3b7"),a("e25e"),a("25f0"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("4dc8")),n={data:function(){return{name:"",mobile:"",addressName:"请选择省市区",address:"",area:"",provList:[],defaultS:!1,indicatorStyle:"height:100upx",valueArr:[0,0,0],proviceId:"-1",cityId:"-1",areaId:"-1",type:"",addressData:{},userId:""}},onLoad:function(e){this.type=e.type,this.userId=r.default.Yp_getStorageSync("userId");var t="新增收货地址";if("edit"===e.type){t="编辑收货地址",this.addressData=JSON.parse(e.data);var a=JSON.parse(e.data);this.name=a.receiverName,this.mobile=a.receiverPhone,this.addressName=a.pcd,this.defaultS=parseInt(a.defaultAddress),this.area=a.receiverAddress,this.proviceId=a.receiverProvince,this.cityId=a.receiverCity,this.areaId=a.receiverDistrict}uni.setNavigationBarTitle({title:t}),this.getProListData()},methods:{pickerconfirm:function(e){var t=this.provList[this.valueArr[0]].areaName.toString(),a=this.provList[this.valueArr[0]].children[this.valueArr[1]].areaName.toString(),i=this.provList[this.valueArr[0]].children[this.valueArr[1]].children[this.valueArr[2]].areaName.toString();this.addressName=t+a+i,this.proviceId=this.provList[this.valueArr[0]].areaId.toString(),this.cityId=this.provList[this.valueArr[0]].children[this.valueArr[1]].areaId.toString(),this.areaId=this.provList[this.valueArr[0]].children[this.valueArr[1]].children[this.valueArr[2]].areaId.toString(),this.$refs.popup.close()},cancel:function(){this.$refs.popup.close(),this.proviceId="-1",this.cityId="-1",this.areaId="-1"},bindChange:function(e){var t=e.detail.value;this.valueArr[0]!==t[0]?this.getCityListData(this.provList[t[0]].areaId):this.valueArr[1]!==t[1]&&this.getAreaListData(this.provList[t[0]].children[t[1]].areaId),this.valueArr=t,this.proviceId=this.provList[this.valueArr[0]].areaId.toString(),this.cityId=this.provList[this.valueArr[0]].children[this.valueArr[1]].areaId.toString(),this.areaId=this.provList[this.valueArr[0]].children[this.valueArr[1]].children[this.valueArr[2]].areaId.toString()},getProListData:function(){var e=this;this.$http("mine.areaList",{areaParent:"0"}).then((function(t){e.provList=t.data.records,e.getCityListData(e.provList[0].areaId)})).catch((function(t){e.$api.msg("省份请求失败")}))},getCityListData:function(e){var t=this;this.$http("mine.areaList",{areaParent:e}).then((function(e){void 0===t.provList[t.valueArr[0]].children&&(t.$set(t.provList[t.valueArr[0]],"children",[]),e.data.records.forEach((function(e){t.provList[t.valueArr[0]].children.push(e)})),t.getAreaListData(t.provList[t.valueArr[0]].children[t.valueArr[1]].areaId))})).catch((function(e){t.$api.msg("城市请求失败")}))},getAreaListData:function(e){var t=this;this.$http("mine.areaList",{areaParent:e}).then((function(e){void 0===t.provList[t.valueArr[0]].children[t.valueArr[1]].children&&(t.$set(t.provList[t.valueArr[0]].children[t.valueArr[1]],"children",[]),e.data.records.forEach((function(e){t.provList[t.valueArr[0]].children[t.valueArr[1]].children.push(e)})))})).catch((function(e){t.$api.msg("地区请求失败")}))},switchChange:function(e){this.defaultS=e.target.value},chooseLocation:function(){0!=this.provList.length?this.$refs.popup.open():this.getProListData()},delBtnClick:function(){var e=this;this.$http("mine.addressRemove",{ids:this.addressData.addressId}).then((function(t){e.$api.msg("删除成功"),e.$api.prePage().refreshList(e.addressData,e.type),setTimeout((function(){uni.navigateBack()}),800)})).catch((function(t){e.$api.msg("删除失败")}))},confirm:function(){var e=this;if(this.name)if(11==this.mobile.length)if("-1"!=this.proviceId||"-1"!=this.cityId||"-1"!=this.areaId)if(this.area){if(this.userId){var t;if("add"===this.type)t={receiverName:this.name,receiverPhone:this.mobile,receiverProvince:this.proviceId,receiverCity:this.cityId,receiverDistrict:this.areaId,receiverAddress:this.area,defaultAddress:this.defaultS?"1":"0",userId:this.userId};else{if(0==this.addressData.addressId.length)return void this.$api.msg("为获得地址的ID");t={receiverName:this.name,receiverPhone:this.mobile,receiverProvince:this.proviceId,receiverCity:this.cityId,receiverDistrict:this.areaId,receiverAddress:this.area,defaultAddress:this.defaultS?"1":"0",id:this.addressData.addressId,userId:this.userId}}this.$http("mine.addressSubmit",t).then((function(t){e.$api.prePage().refreshList(e.addressData,e.type),e.$api.msg(t.msg),setTimeout((function(){uni.navigateBack()}),800)})).catch((function(t){e.$api.msg(t.msg)}))}}else this.$api.msg("请填写门牌号信息");else this.$api.msg("请选择所在省市区");else this.$api.msg("请输入正确的手机号码");else this.$api.msg("请填写收货人姓名")}}};t.default=n},ad6e:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var i={uniPopup:a("2e42").default},r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("收货人")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"收货人姓名","placeholder-class":"placeholder"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("手机号码")]),a("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"收货人手机号码","placeholder-class":"placeholder"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("所在地区")]),a("v-uni-text",{staticClass:"input",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseLocation.apply(void 0,arguments)}}},[e._v(e._s(e.addressName))])],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("详细地址")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入地址","placeholder-class":"placeholder"},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}})],1),a("v-uni-view",{staticClass:"row default-row"},[a("v-uni-text",{staticClass:"tit"},[e._v("设为默认地址")]),a("v-uni-switch",{attrs:{checked:e.defaultS,color:"#2E72DC"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.switchChange.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"btn-content"},[a("v-uni-view",{staticClass:"del-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.delBtnClick.apply(void 0,arguments)}}},[a("v-uni-text",[e._v("删除")])],1),a("v-uni-button",{staticClass:"add-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[a("v-uni-text",[e._v("保存")])],1)],1),a("uni-popup",{ref:"popup",attrs:{type:"bottom"}},[a("v-uni-view",{staticClass:"popup"},[a("v-uni-view",{staticClass:"picker-btn"},[a("v-uni-view",{staticClass:"left",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)}}},[e._v("取消")]),a("v-uni-view",{staticClass:"right",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerconfirm.apply(void 0,arguments)}}},[e._v("确定")])],1),a("v-uni-picker-view",{attrs:{"indicator-style":e.indicatorStyle,value:e.valueArr},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindChange.apply(void 0,arguments)}}},[a("v-uni-picker-view-column",e._l(e.provList,(function(t,i){return a("v-uni-view",{key:i,staticClass:"item"},[e._v(e._s(t.areaName))])})),1),e.provList[e.valueArr[0]]?a("v-uni-picker-view-column",e._l(e.provList[e.valueArr[0]].children,(function(t,i){return a("v-uni-view",{key:i,staticClass:"item"},[e._v(e._s(t.areaName))])})),1):e._e(),e.provList[e.valueArr[0]]?a("v-uni-picker-view-column",e._l(e.provList[e.valueArr[0]].children[e.valueArr[1]].children,(function(t,i){return a("v-uni-view",{key:i,staticClass:"item"},[e._v(e._s(t.areaName))])})),1):e._e()],1)],1)],1)],1)},n=[]},e1ca:function(e,t,a){"use strict";var i=a("e6c1"),r=a.n(i);r.a},e6c1:function(e,t,a){var i=a("1915");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("263fec51",i,!0,{sourceMap:!1,shadowMode:!1})}}]);